# Real-Time IoT Ledger üì° - –õ–æ–≥–∏—Å—Ç–∏–∫–∞ –Ω–∞ MegaETH

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**IoT Ledger** ‚Äî —ç—Ç–æ B2B —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ª–æ–≥–∏—Å—Ç–∏–∫–∏. –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è –æ–±–æ—Ä—É–¥—É–µ—Ç —Å–≤–æ–∏ –≥—Ä—É–∑–æ–≤–∏–∫–∏ IoT-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Raspberry Pi) —Å –∫–æ—à–µ–ª—å–∫–∞–º–∏ MegaETH. –ö–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ –∫–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Å–æ —Å–≤–æ–∏–º–∏ GPS-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π —Ä–µ—Ñ—Ä–∏–∂–µ—Ä–∞—Ç–æ—Ä–∞ –≤ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç. –ö–ª–∏–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ã) –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç—É–ø –∫ read-only –¥–∞—à–±–æ—Ä–¥—É, –∫–æ—Ç–æ—Ä—ã–π –≤ **—Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –∏—Ö –≥—Ä—É–∑–∞ –Ω–∞ –∫–∞—Ä—Ç–µ.

## üöÄ –ü–æ—á–µ–º—É MegaETH?

**–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** MegaETH –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Ç—ã—Å—è—á IoT-—É—Å—Ç—Ä–æ–π—Å—Ç–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. **10ms –±–ª–æ–∫–∏** –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–π –≥—Ä—É–∑ –Ω–∞ –∫–∞—Ä—Ç–µ, –∫–æ—Ç–æ—Ä–∞—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ**, –ø–æ–ª—É—á–∞—è –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –∫–æ–º–ø–∞–Ω–∏–∏, –∞ –ø—Ä—è–º–æ –∏–∑ **–Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ –±–ª–æ–∫—á–µ–π–Ω–∞**.

## üìù Deployed Contract

- **Contract Name**: IoTLedgerContract
- **Address**: `0x3D17192112E7B298cE5F7F27cb41963E96B89411`
- **Network**: MegaETH Testnet
- **Explorer**: https://megaexplorer.xyz/address/0x3D17192112E7B298cE5F7F27cb41963E96B89411

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Smart Contract (IoTLedgerContract.sol)

**–ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```solidity
struct DataPoint {
    uint64 timestamp;
    int32 lat;  // Latitude * 1e6
    int32 lon;  // Longitude * 1e6
    int16 temp; // Temperature * 10 (Celsius)
}
```

**State:**
```solidity
mapping(address => bool) public authorizedDevices;
mapping(bytes32 => DataPoint[]) public shipmentHistory;
mapping(address => bytes32) public deviceToShipment;
```

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `authorizeDevice(address device, bytes32 shipmentId)` - –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å IoT-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (owner only)
- `submitData(int32 lat, int32 lon, int16 temp)` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º)
- `getShipmentDataCount(bytes32 shipmentId)` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (view)
- `getShipmentData(bytes32 shipmentId, uint256 index)` - –ø–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å—å (view)

**–°–æ–±—ã—Ç–∏—è:**
```solidity
event DataSubmitted(bytes32 indexed shipmentId, address indexed device, uint64 timestamp, int32 lat, int32 lon, int16 temp);
event DeviceAuthorized(address indexed device, bytes32 indexed shipmentId);
```

## üíª Tech Stack

### Backend (IoT Device)
- **Hardware**: Raspberry Pi / ESP32 —Å GPS –º–æ–¥—É–ª–µ–º –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–º –¥–∞—Ç—á–∏–∫–æ–º
- **Software**: Python —Å web3.py –∏–ª–∏ Node.js —Å viem
- **Interval**: –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥

### Frontend (Client Dashboard)
- **Framework**: React + Next.js, TypeScript
- **Map**: Leaflet.js –∏–ª–∏ Mapbox
- **Charts**: Chart.js –∏–ª–∏ Recharts
- **Blockchain**: wagmi, viem
- **Network**: MegaETH Testnet

## üöö User Flows

### 1. Setup (Logistics Company)
1. –ö–æ–º–ø–∞–Ω–∏—è –¥–µ–ø–ª–æ–∏—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç
2. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç IoT-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: `authorizeDevice(0xDevice123..., "SHIPMENT-001")`
3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –≥—Ä—É–∑–æ–≤–∏–∫–∏
4. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 2. IoT Device Loop (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)

```python
# Python script on Raspberry Pi
import time
import gps
from web3 import Web3

w3 = Web3(Web3.HTTPProvider('https://rpc.megaeth.xyz'))
contract = w3.eth.contract(address=CONTRACT_ADDRESS, abi=ABI)

while True:
    # Read GPS
    latitude = get_gps_latitude()  # e.g., 40.7128
    longitude = get_gps_longitude()  # e.g., -74.0060
    
    # Read temperature sensor
    temperature = get_temperature()  # e.g., -18.5 Celsius
    
    # Convert to contract format
    lat_int = int(latitude * 1e6)  # 40712800
    lon_int = int(longitude * 1e6)  # -74006000
    temp_int = int(temperature * 10)  # -185
    
    # Submit to blockchain
    tx = contract.functions.submitData(lat_int, lon_int, temp_int).transact({
        'from': DEVICE_WALLET,
        'gas': 100000
    })
    
    w3.eth.wait_for_transaction_receipt(tx)
    print(f"Data submitted: {latitude}, {longitude}, {temperature}¬∞C")
    
    time.sleep(10)  # Wait 10 seconds
```

### 3. Client Dashboard (Real-time Tracking)
1. –ö–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç URL: `iot-dashboard.vercel.app/track/SHIPMENT-001`
2. –í–∏–¥–∏—Ç –∫–∞—Ä—Ç—É —Å –º–∞—Ä–∫–µ—Ä–æ–º –≥—Ä—É–∑–æ–≤–∏–∫–∞
3. –í–∏–¥–∏—Ç –≥—Ä–∞—Ñ–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
4. **MegaETH Realtime API** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–∞—Ä—Ç—É –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥

## üî• –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –§–∏—á–∏

1. **Immutable Proof**: –í—Å–µ GPS-—Ç–æ—á–∫–∏ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∑–∞–ø–∏—Å–∞–Ω—ã on-chain ‚Üí –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–¥–µ–ª–∞—Ç—å
2. **Real-time Updates**: –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –≥—Ä—É–∑–∞ **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ** (—á–µ—Ä–µ–∑ Realtime API)
3. **No Intermediary**: –î–∞–Ω–Ω—ã–µ –∏–¥—É—Ç –Ω–∞–ø—Ä—è–º—É—é –∏–∑ IoT ‚Üí Blockchain ‚Üí Client
4. **High Throughput**: MegaETH –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç—ã—Å—è—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

## üìä Use Cases

- **–•–æ–ª–æ–¥–Ω–∞—è –¶–µ–ø—å**: –ö–æ–Ω—Ç—Ä–æ–ª—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –¥–ª—è —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–∏–∫–∏/–ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **Proof of Delivery**: –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ —Ç–æ–≥–æ, —á—Ç–æ –≥—Ä—É–∑ –±—ã–ª –≤ –Ω—É–∂–Ω–æ–º –º–µ—Å—Ç–µ –≤ –Ω—É–∂–Ω–æ–µ –≤—Ä–µ–º—è
- **Insurance Claims**: –ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤
- **Compliance**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–≥—É–ª—è—Ç–æ—Ä–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

## üõ†Ô∏è Local Development

```bash
npm install
npm run compile
npm run deploy  # —É–∂–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ!
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [VERCEL_DEPLOYMENT.md](./VERCEL_DEPLOYMENT.md) –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –¥–µ–ø–ª–æ—é –¥–∞—à–±–æ—Ä–¥–∞ –Ω–∞ Vercel.

---

**Built with ‚ù§Ô∏è for MegaETH Hackathon**

